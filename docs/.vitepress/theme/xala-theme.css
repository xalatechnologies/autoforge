/**
 * Xala Navy Theme Bridge for VitePress
 *
 * Applies DS design token primitives to VitePress elements.
 * Uses flat --ds-* tokens from public/themes/ (no @layer, no calc chains).
 *
 * Sections:
 *   A. VP Variable Overrides (colors, fonts)
 *   B. Global Typography (body, headings, paragraphs)
 *   C. Layout / Container
 *   D. Header
 *   E. Sidebar
 *   F. Search
 *   G. Code Blocks
 *   H. Custom Containers
 *   I. Miscellaneous
 */


/* ==========================================================================
 * A. VITEPRESS VARIABLE OVERRIDES
 * ========================================================================== */

:root {
  /* Backgrounds */
  --vp-c-bg: var(--ds-color-neutral-background-default);
  --vp-c-bg-alt: var(--ds-color-neutral-background-tinted);
  --vp-c-bg-soft: var(--ds-color-neutral-surface-hover);
  --vp-c-bg-elv: var(--ds-color-neutral-surface-default);

  /* Text */
  --vp-c-text-1: var(--ds-color-neutral-text-default);
  --vp-c-text-2: var(--ds-color-neutral-text-subtle);
  --vp-c-text-3: var(--ds-color-neutral-text-subtle);

  /* Brand / Accent */
  --vp-c-brand-1: var(--ds-color-accent-base-default);
  --vp-c-brand-2: var(--ds-color-accent-base-hover);
  --vp-c-brand-3: var(--ds-color-accent-base-active);
  --vp-c-brand-soft: var(--ds-color-accent-surface-hover);

  /* Borders */
  --vp-c-border: var(--ds-color-neutral-border-default);
  --vp-c-divider: var(--ds-color-neutral-border-subtle);
  --vp-c-gutter: var(--ds-color-neutral-border-subtle);

  /* Neutral */
  --vp-c-default-1: var(--ds-color-neutral-base-default);
  --vp-c-default-2: var(--ds-color-neutral-base-hover);
  --vp-c-default-3: var(--ds-color-neutral-base-active);
  --vp-c-default-soft: var(--ds-color-neutral-surface-hover);

  /* Semantic */
  --vp-c-tip-1: var(--ds-color-success-base-default);
  --vp-c-tip-2: var(--ds-color-success-base-default);
  --vp-c-tip-3: var(--ds-color-success-base-default);
  --vp-c-tip-soft: var(--ds-color-success-surface-hover);
  --vp-c-warning-1: var(--ds-color-warning-base-default);
  --vp-c-warning-2: var(--ds-color-warning-base-default);
  --vp-c-warning-3: var(--ds-color-warning-base-default);
  --vp-c-warning-soft: var(--ds-color-warning-surface-hover);
  --vp-c-danger-1: var(--ds-color-danger-base-default);
  --vp-c-danger-2: var(--ds-color-danger-base-default);
  --vp-c-danger-3: var(--ds-color-danger-base-default);
  --vp-c-danger-soft: var(--ds-color-danger-surface-hover);

  /* Font families */
  --vp-font-family-base: var(--ds-font-family);
  --vp-font-family-mono: 'JetBrains Mono', ui-monospace, SFMono-Regular,
    Menlo, Monaco, Consolas, monospace;

  /* Enhanced typography: Distinctive display font for headings */
  --vp-font-family-display: 'Space Grotesk', -apple-system, BlinkMacSystemFont,
    'Segoe UI', system-ui, sans-serif;

  /* Smooth animations */
  --vp-transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --vp-transition-base: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --vp-transition-slow: 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  /* Enhanced shadows for depth */
  --vp-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --vp-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --vp-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --vp-shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* ==========================================================================
 * A2. DARK MODE OVERRIDES
 * ========================================================================== */

.dark {
  /* Backgrounds - ensure proper dark surfaces */
  --vp-c-bg: #0f172a;
  --vp-c-bg-alt: #1e293b;
  --vp-c-bg-soft: #334155;
  --vp-c-bg-elv: #1e293b;

  /* Text - high contrast for readability */
  --vp-c-text-1: #f1f5f9;
  --vp-c-text-2: #94a3b8;
  --vp-c-text-3: #64748b;

  /* Borders */
  --vp-c-border: #334155;
  --vp-c-divider: #1e293b;
  --vp-c-gutter: #1e293b;

  /* Code inline */
  --vp-c-mute: #1e293b;
  --vp-c-mute-light: #334155;
  --vp-c-mute-lighter: #475569;

  /* Code blocks */
  --vp-code-block-bg: #1e293b;
  --vp-code-line-highlight-color: rgba(51, 65, 85, 0.5);

  /* Badge colors */
  --vp-badge-info-border: #3b82f6;
  --vp-badge-info-text: #93c5fd;
  --vp-badge-info-bg: rgba(59, 130, 246, 0.15);
  --vp-badge-tip-border: #22c55e;
  --vp-badge-tip-text: #86efac;
  --vp-badge-tip-bg: rgba(34, 197, 94, 0.15);
  --vp-badge-warning-border: #f59e0b;
  --vp-badge-warning-text: #fcd34d;
  --vp-badge-warning-bg: rgba(245, 158, 11, 0.15);
  --vp-badge-danger-border: #ef4444;
  --vp-badge-danger-text: #fca5a5;
  --vp-badge-danger-bg: rgba(239, 68, 68, 0.15);
}

/* Dark mode table styles */
.dark .vp-doc table {
  background-color: #1e293b;
  border-color: #334155;
}

.dark .vp-doc th {
  background-color: #0f172a;
  color: #f1f5f9;
  border-color: #334155;
}

.dark .vp-doc td {
  border-color: #334155;
  color: #e2e8f0;
}

.dark .vp-doc tr:nth-child(2n) {
  background-color: rgba(30, 41, 59, 0.5);
}

/* Dark mode inline code */
.dark .vp-doc :not(pre)>code {
  background-color: #334155;
  color: #e2e8f0;
}

/* Dark mode code badges (like 'bash', 'ts', etc) */
.dark .vp-code-group .tabs label,
.dark [class*="language-"]>span.lang {
  color: #94a3b8;
}

/* Dark mode sidebar */
.dark .VPSidebar {
  background-color: #0f172a !important;
}

.dark .VPSidebarItem.level-1.is-active>.item {
  background-color: #1e293b;
}

/* Dark mode header */
.dark .VPNav,
.dark .VPNavBar {
  background-color: #0f172a;
}

/* Dark mode nav links - high contrast */
.dark .VPNavBarMenu .VPNavBarMenuLink {
  color: #e2e8f0;
}

.dark .VPNavBarMenu .VPNavBarMenuLink:hover {
  color: #f1f5f9;
}

.dark .VPNavBarMenu .VPNavBarMenuLink.active {
  color: #3b82f6;
}

/* Dark mode search button */
.dark .VPNavBarSearch .DocSearch-Button,
.dark .VPNavBarSearchButton {
  background-color: #1e293b;
  border-color: #334155;
  color: #94a3b8;
}

/* Dark mode sidebar active item - better contrast */
.dark .VPSidebarItem.level-1.is-active>.item {
  background-color: #1e293b;
  border-left-color: #3b82f6;
}

.dark .VPSidebarItem.level-1.is-active>.item .link>.text {
  color: #93c5fd;
}

/* Dark mode sidebar text */
.dark .VPSidebarItem .text {
  color: #e2e8f0;
}

.dark .VPSidebarItem.level-0>.item>.text {
  color: #94a3b8;
}

/* Dark mode aside */
.dark .VPDoc.has-aside .aside,
.dark .aside-container,
.dark .VPDocAsideOutline {
  background-color: #0f172a;
}

.dark .outline-title {
  color: #94a3b8;
}

.dark .outline-link {
  color: #94a3b8;
}

.dark .outline-link:hover {
  color: #e2e8f0;
}

.dark .outline-link.active {
  color: #93c5fd;
}

/* ==========================================================================
 * A3. SEARCH BAR — Wider and styled like Digilist
 * ========================================================================== */

.VPNavBarSearch .DocSearch-Button,
.VPNavBarSearchButton {
  min-width: 280px;
  min-height: 48px;
  border-radius: var(--ds-border-radius-lg);
  padding: var(--ds-spacing-4) var(--ds-spacing-5);
  background-color: var(--ds-color-neutral-surface-hover);
  border: 1px solid var(--ds-color-neutral-border-subtle);
}

.dark .VPNavBarSearch .DocSearch-Button,
.dark .VPNavBarSearchButton {
  background-color: #1e293b;
  border-color: #334155;
}

@media (min-width: 768px) {

  .VPNavBarSearch .DocSearch-Button,
  .VPNavBarSearchButton {
    min-width: 360px;
  }
}

@media (min-width: 1280px) {

  .VPNavBarSearch .DocSearch-Button,
  .VPNavBarSearchButton {
    min-width: 480px;
  }
}


/* ==========================================================================
 * B. GLOBAL TYPOGRAPHY — DS primitives on every text element
 * ========================================================================== */

body {
  font-family: var(--ds-font-family);
  font-size: 19px;
  line-height: 1.6;
  font-weight: var(--ds-font-weight-regular);
  letter-spacing: var(--ds-body-md-letter-spacing);
  color: var(--ds-color-neutral-text-default);
}

/* --- Doc content headings --- */

.vp-doc h1 {
  font-family: var(--vp-font-family-display);
  font-size: var(--ds-heading-xl-font-size);
  /* 48px */
  font-weight: 700;
  /* Bold for display font */
  line-height: 1.2;
  /* Tighter for large headings */
  letter-spacing: -0.02em;
  /* Tighter letter spacing */
  margin-bottom: var(--ds-spacing-8);
  /* 32px */
  background: linear-gradient(135deg,
      var(--ds-color-neutral-text-default) 0%,
      var(--ds-color-neutral-text-subtle) 100%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.vp-doc h2 {
  font-family: var(--vp-font-family-display);
  font-size: var(--ds-heading-md-font-size);
  /* 30px */
  font-weight: 600;
  /* Semibold */
  line-height: 1.3;
  letter-spacing: -0.01em;
  margin-top: var(--ds-spacing-12);
  /* 48px */
  padding-bottom: var(--ds-spacing-4);
  /* 16px */
  border-bottom: 2px solid var(--ds-color-neutral-border-subtle);
  position: relative;
  transition: color var(--vp-transition-fast);
}

.vp-doc h2::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 60px;
  height: 2px;
  background: linear-gradient(90deg,
      var(--ds-color-accent-base-default),
      transparent);
  transition: width var(--vp-transition-base);
}

.vp-doc h2:hover::after {
  width: 120px;
}

.vp-doc h3 {
  font-family: var(--vp-font-family-display);
  font-size: var(--ds-heading-sm-font-size);
  /* 24px */
  font-weight: 600;
  /* Semibold */
  line-height: 1.3;
  letter-spacing: -0.005em;
  margin-top: var(--ds-spacing-10);
  /* 40px */
  color: var(--ds-color-neutral-text-default);
}

.vp-doc h4 {
  font-family: var(--vp-font-family-display);
  font-size: var(--ds-heading-xs-font-size);
  /* 21px */
  font-weight: 600;
  /* Semibold */
  line-height: 1.3;
  letter-spacing: 0;
  color: var(--ds-color-neutral-text-default);
}

/* --- Paragraphs & body text --- */

.vp-doc p,
.vp-doc li {
  font-size: var(--ds-body-md-font-size);
  /* 18px */
  line-height: var(--ds-body-long-md-line-height);
  /* 1.7 */
  color: var(--ds-color-neutral-text-default);
}

.vp-doc strong {
  font-weight: var(--ds-font-weight-semibold);
  /* 600 */
}

/* --- Links --- */

.vp-doc a {
  color: var(--ds-color-accent-text-subtle);
  font-weight: var(--ds-font-weight-medium);
  /* 500 */
  text-decoration: none;
  border-bottom: 1.5px solid var(--ds-color-accent-border-subtle);
  padding-bottom: 1px;
  transition: color var(--vp-transition-fast),
    border-color var(--vp-transition-fast),
    transform var(--vp-transition-fast);
  position: relative;
  display: inline-block;
}

.vp-doc a::after {
  content: '';
  position: absolute;
  bottom: -1.5px;
  left: 0;
  width: 0;
  height: 1.5px;
  background: var(--ds-color-accent-base-default);
  transition: width var(--vp-transition-base);
}

.vp-doc a:hover {
  color: var(--ds-color-accent-base-default);
  transform: translateY(-1px);
}

.vp-doc a:hover::after {
  width: 100%;
}

/* --- Tables --- */

.vp-doc table {
  font-size: var(--ds-font-size-sm);
  /* 14px */
  border-radius: var(--ds-border-radius-lg);
  overflow: hidden;
}

.vp-doc th {
  font-weight: var(--ds-font-weight-semibold);
  font-size: var(--ds-font-size-xs);
  /* 12px */
  text-transform: uppercase;
  letter-spacing: var(--ds-letter-spacing-wide);
  /* 0.025em */
  background-color: var(--ds-color-neutral-surface-tinted);
}

.vp-doc td {
  border-color: var(--ds-color-neutral-border-subtle);
}

/* --- Enhanced table styling --- */
.vp-doc table {
  border-collapse: collapse;
  width: 100%;
  margin: var(--ds-spacing-6) 0;
  box-shadow: var(--vp-shadow-sm);
  border-radius: var(--ds-border-radius-lg);
  overflow: hidden;
  background-color: var(--ds-color-neutral-surface-default);
}

.vp-doc th,
.vp-doc td {
  padding: var(--ds-spacing-3) var(--ds-spacing-4);
  text-align: left;
  border-bottom: 1px solid var(--ds-color-neutral-border-subtle);
  transition: background-color var(--vp-transition-fast);
}

.vp-doc th {
  padding: var(--ds-spacing-4);
  background: linear-gradient(180deg,
      var(--ds-color-neutral-surface-tinted) 0%,
      var(--ds-color-neutral-surface-default) 100%);
  position: relative;
}

.vp-doc th::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg,
      var(--ds-color-accent-base-default),
      transparent);
}

.vp-doc tbody tr {
  transition: background-color var(--vp-transition-fast),
    transform var(--vp-transition-fast);
}

.vp-doc tbody tr:hover {
  background-color: var(--ds-color-neutral-surface-hover);
  transform: translateX(2px);
}

.vp-doc tbody tr:last-child td {
  border-bottom: none;
}

.vp-doc tbody tr:first-child td {
  padding-top: var(--ds-spacing-4);
}


/* --- Task lists (checkboxes) --- */
.vp-doc .task-list-item {
  list-style-type: none;
  margin-left: 0;
  padding-left: var(--ds-spacing-6);
  position: relative;
}

.vp-doc .task-list-item input[type="checkbox"] {
  position: absolute;
  left: 0;
  top: 4px;
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: var(--ds-color-accent-base-default);
}

.vp-doc .task-list-item input[type="checkbox"]:checked+* {
  opacity: 0.7;
  text-decoration: line-through;
  color: var(--ds-color-neutral-text-subtle);
}


/* --- Footnotes --- */
.vp-doc .footnote-ref {
  font-size: 0.85em;
  vertical-align: super;
  color: var(--ds-color-accent-text-subtle);
  text-decoration: none;
  margin-left: 2px;
  font-weight: var(--ds-font-weight-semibold);
}

.vp-doc .footnote-ref:hover {
  color: var(--ds-color-accent-base-default);
  text-decoration: underline;
}

.vp-doc .footnotes {
  margin-top: var(--ds-spacing-12);
  padding-top: var(--ds-spacing-6);
  border-top: 2px solid var(--ds-color-neutral-border-default);
}

.vp-doc .footnotes ol {
  padding-left: var(--ds-spacing-6);
  font-size: var(--ds-font-size-sm);
  color: var(--ds-color-neutral-text-subtle);
}

.vp-doc .footnotes li {
  margin: var(--ds-spacing-2) 0;
  line-height: var(--ds-line-height-md);
}

.vp-doc .footnote-backref {
  color: var(--ds-color-accent-text-subtle);
  text-decoration: none;
  margin-left: var(--ds-spacing-2);
  font-weight: var(--ds-font-weight-semibold);
}

.vp-doc .footnote-backref:hover {
  color: var(--ds-color-accent-base-default);
}


/* --- Marked/highlighted text (==text==) --- */
.vp-doc mark {
  background-color: var(--ds-color-warning-surface-hover);
  color: var(--ds-color-warning-text-default);
  padding: 2px 4px;
  border-radius: var(--ds-border-radius-sm);
  font-weight: var(--ds-font-weight-medium);
}


/* --- Abbreviations --- */
.vp-doc abbr {
  cursor: help;
  text-decoration: underline;
  text-decoration-style: dotted;
  text-decoration-color: var(--ds-color-accent-border-subtle);
  border-bottom: none;
}

.vp-doc abbr:hover {
  text-decoration-color: var(--ds-color-accent-base-default);
}


/* --- Enhanced blockquotes --- */
.vp-doc blockquote {
  border-left: 4px solid var(--ds-color-accent-base-default);
  background: linear-gradient(90deg,
      var(--ds-color-neutral-surface-tinted) 0%,
      var(--ds-color-neutral-surface-default) 100%);
  padding: var(--ds-spacing-4) var(--ds-spacing-5);
  margin: var(--ds-spacing-6) 0;
  border-radius: 0 var(--ds-border-radius-lg) var(--ds-border-radius-lg) 0;
  font-style: normal;
  box-shadow: var(--vp-shadow-sm);
  transition: box-shadow var(--vp-transition-base),
    transform var(--vp-transition-fast);
  position: relative;
}

.vp-doc blockquote::before {
  content: '"';
  position: absolute;
  top: -8px;
  left: 12px;
  font-size: 48px;
  font-family: var(--vp-font-family-display);
  color: var(--ds-color-accent-base-default);
  opacity: 0.2;
  line-height: 1;
}

.vp-doc blockquote p {
  margin: 0;
  color: var(--ds-color-neutral-text-default);
}

.vp-doc blockquote p:not(:last-child) {
  margin-bottom: var(--ds-spacing-3);
}

.vp-doc blockquote strong {
  color: var(--ds-color-neutral-text-default);
  font-weight: var(--ds-font-weight-semibold);
}


/* --- Enhanced lists --- */
.vp-doc ul,
.vp-doc ol {
  margin: var(--ds-spacing-4) 0;
  padding-left: var(--ds-spacing-8);
}

.vp-doc ul {
  list-style-type: disc;
}

.vp-doc ol {
  list-style-type: decimal;
}

.vp-doc li {
  margin: var(--ds-spacing-2) 0;
  line-height: var(--ds-line-height-md);
}

.vp-doc li>p {
  margin: 0;
}

.vp-doc li>p:not(:last-child) {
  margin-bottom: var(--ds-spacing-3);
}

.vp-doc ul ul,
.vp-doc ol ol,
.vp-doc ul ol,
.vp-doc ol ul {
  margin-top: var(--ds-spacing-2);
  margin-bottom: var(--ds-spacing-2);
}


/* --- Enhanced horizontal rules --- */
.vp-doc hr {
  border: none;
  border-top: 2px solid var(--ds-color-neutral-border-subtle);
  margin: var(--ds-spacing-10) 0;
  background: none;
}


/* --- Definition lists (if used) --- */
.vp-doc dl {
  margin: var(--ds-spacing-6) 0;
}

.vp-doc dt {
  font-weight: var(--ds-font-weight-semibold);
  color: var(--ds-color-neutral-text-default);
  margin-top: var(--ds-spacing-4);
  margin-bottom: var(--ds-spacing-2);
}

.vp-doc dt:first-child {
  margin-top: 0;
}

.vp-doc dd {
  margin-left: var(--ds-spacing-6);
  margin-bottom: var(--ds-spacing-4);
  color: var(--ds-color-neutral-text-subtle);
  line-height: var(--ds-line-height-md);
}


/* ==========================================================================
 * C. LAYOUT / CONTAINER — Full width content between sidebars
 * ========================================================================== */

:root {
  --vp-layout-max-width: 100%;
  --vp-doc-width: 100%;
}

.VPDoc .container {
  max-width: 100%;
}

.VPDoc.has-aside .content-container {
  max-width: 100%;
}

/* Content takes full available width */
@media (min-width: 960px) {
  .VPDoc .content {
    max-width: 100% !important;
  }

  .VPDoc .content-container {
    max-width: 100% !important;
  }

  .vp-doc {
    max-width: 100% !important;
  }

  .VPDoc:not(.has-sidebar) .container {
    max-width: 100%;
  }

  .VPDoc:not(.has-sidebar) .container>.content {
    max-width: 100%;
  }
}

/* Override the default doc content max-width */
.VPDoc .vp-doc {
  max-width: 100% !important;
}

.VPDoc .container .content {
  padding-left: var(--ds-spacing-8);
  padding-right: var(--ds-spacing-8);
  max-width: 100% !important;
}

/* Dark mode content area - unified with sidebar */
.dark .VPDoc .container .content,
.dark .VPContent .content-container {
  background-color: #0f172a;
}

.dark .VPDoc .vp-doc {
  background-color: #0f172a;
}

@media (max-width: 599px) {
  .VPDoc .container .content {
    padding-left: var(--ds-spacing-4);
    /* 16px */
    padding-right: var(--ds-spacing-4);
  }
}


/* ==========================================================================
 * D. HEADER — 80px, enhanced surface with premium styling
 * ========================================================================== */

:root {
  --vp-nav-height: 80px;
}

.VPNav {
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  position: sticky;
  top: 0;
  z-index: 100;
  background-color: var(--ds-color-neutral-surface-default);
}

.dark .VPNav {
  background-color: #0f172a;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.dark .VPNavBar {
  background-color: #0f172a;
}

.VPNavBar {
  background-color: var(--ds-color-neutral-surface-default);
}

.VPNavBar .title {
  font-size: var(--ds-font-size-2xl);
  font-weight: var(--ds-font-weight-bold);
  color: var(--ds-color-neutral-text-default);
  border: none !important;
}

.VPNavBar .title a {
  border: none !important;
}

/* Hide sidebar curtain */
.VPSidebar .curtain {
  display: none !important;
}

/* Nav links — DS typography */
.VPNavBarMenu .VPNavBarMenuLink {
  font-size: var(--ds-font-size-md);
  /* 18px */
  font-weight: var(--ds-font-weight-medium);
  /* 500 */
  color: var(--ds-color-neutral-text-subtle);
  transition: color var(--vp-transition-fast),
    transform var(--vp-transition-fast);
  position: relative;
  display: inline-block;
}

.VPNavBarMenu .VPNavBarMenuLink::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--ds-color-accent-base-default);
  transition: width var(--vp-transition-base);
}

.VPNavBarMenu .VPNavBarMenuLink:hover {
  color: var(--ds-color-accent-text-default);
  transform: translateY(-1px);
}

.VPNavBarMenu .VPNavBarMenuLink:hover::after {
  width: 100%;
}

.VPNavBarMenu .VPNavBarMenuLink.active {
  color: var(--ds-color-accent-base-default);
  font-weight: var(--ds-font-weight-semibold);
}

.VPNavBarMenu .VPNavBarMenuLink.active::after {
  width: 100%;
}


/* ==========================================================================
 * E. SIDEBAR — matches Minside sidebar
 *
 * Key patterns from web app:
 *   - 300px width, surface bg, right border
 *   - Section titles: uppercase, xs font, semibold, wide letter-spacing
 *   - Items: 3px left border (transparent → accent), rounded, 44px min-height
 *   - Active: accent surface bg + accent left border + semibold accent text
 * ========================================================================== */

:root {
  --vp-sidebar-width: 300px;
}

.VPSidebar {
  background-color: var(--ds-color-neutral-surface-default) !important;
  border-right: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 4px 0 20px rgba(0, 0, 0, 0.15);
  padding-top: var(--ds-spacing-4);
}

.dark .VPSidebar {
  background-color: #0f172a !important;
  border-right: 1px solid rgba(255, 255, 255, 0.06);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Remove extra border under sidebar header */
.VPLocalNav,
.VPLocalNav .container,
.VPNavScreenMenu {
  border: none !important;
  box-shadow: none !important;
  background-color: var(--ds-color-neutral-surface-default) !important;
}

.dark .VPLocalNav,
.dark .VPLocalNav .container,
.dark .VPNavScreenMenu {
  background-color: #0f172a !important;
  border: none !important;
}

/* Remove all dividers and curtains */
.VPNavBar .divider,
.VPNav .curtain,
.VPDocFooter::before {
  display: none !important;
}

/* Right sidebar (aside / table of contents) */
.VPDocAsideOutline {
  background-color: var(--ds-color-neutral-surface-default);
  padding: var(--ds-spacing-4);
}

.VPDoc.has-aside .aside {
  background-color: var(--ds-color-neutral-surface-default);
  border-left: none;
}

.dark .VPDoc.has-aside .aside {
  background-color: #0f172a;
  /* Blackish navy - unified */
  border-left: none;
}

.aside-container {
  background-color: var(--ds-color-neutral-surface-default);
}

.dark .aside-container {
  background-color: #0f172a;
}

.dark .VPDocAsideOutline {
  background-color: #0f172a;
}

/* Right sidebar title "ON THIS PAGE" */
.VPDocAsideOutline .outline-title {
  text-transform: uppercase;
  font-size: var(--ds-font-size-sm);
  font-weight: var(--ds-font-weight-semibold);
  letter-spacing: 0.06em;
  color: var(--ds-color-neutral-text-subtle);
  margin-bottom: var(--ds-spacing-3);
}

.outline-marker {
  background-color: var(--ds-color-accent-base-default) !important;
}

.outline-link {
  color: var(--ds-color-neutral-text-subtle);
  font-size: var(--ds-font-size-sm);
  padding: var(--ds-spacing-2) var(--ds-spacing-3);
  border-radius: var(--ds-border-radius-md);
  transition: color var(--vp-transition-fast), background-color var(--vp-transition-fast);
}

.outline-link:hover {
  color: var(--ds-color-neutral-text-default);
  background-color: var(--ds-color-neutral-surface-hover);
}

.outline-link.active {
  color: var(--ds-color-accent-text-default);
  background-color: var(--ds-color-accent-surface-hover);
}

/* Section titles */
.VPSidebarItem.level-0>.item>.text,
.VPSidebarItem.level-0>.item>.indicator+.text {
  text-transform: uppercase;
  font-size: var(--ds-font-size-sm);
  /* 14px */
  font-weight: var(--ds-font-weight-semibold);
  /* 600 */
  letter-spacing: 0.06em;
  color: var(--ds-color-neutral-text-subtle);
  padding: var(--ds-spacing-3) 0 var(--ds-spacing-2);
  /* 12px 0 8px */
}

/* Nav items */
.VPSidebarItem.level-1>.item {
  border-radius: var(--ds-border-radius-lg);
  /* 10px */
  border-left: 3px solid transparent;
  min-height: 48px;
  padding: var(--ds-spacing-4) var(--ds-spacing-5);
  /* 16px 20px */
  display: flex;
  align-items: center;
  margin: 6px 0;
  /* Increased from 4px */
  transition: background-color var(--vp-transition-fast),
    border-color var(--vp-transition-fast),
    transform var(--vp-transition-fast),
    padding-left var(--vp-transition-fast);
  position: relative;
}

.VPSidebarItem.level-1>.item .link>.text {
  font-size: 17px;
  font-weight: var(--ds-font-weight-medium);
  color: var(--ds-color-neutral-text-default);
  transition: color var(--vp-transition-fast);
}

.VPSidebarItem.level-1>.item:hover {
  background-color: var(--ds-color-neutral-surface-hover);
  transform: translateX(2px);
  padding-left: 4px;
}

/* Active sidebar item */
.VPSidebarItem.level-1.is-active>.item {
  background-color: var(--ds-color-neutral-surface-hover);
  border-left-color: var(--ds-color-accent-base-default);
}

.VPSidebarItem.level-1.is-active>.item .link>.text {
  color: var(--ds-color-accent-text-default);
  font-weight: var(--ds-font-weight-semibold);
}

/* Sub-items */
.VPSidebarItem.level-2>.item {
  border-radius: var(--ds-border-radius-md);
  border-left: 2px solid transparent;
  margin: 1px 0;
}

.VPSidebarItem.level-2>.item .link>.text {
  font-size: var(--ds-font-size-sm);
  color: var(--ds-color-neutral-text-subtle);
}

.VPSidebarItem.level-2.is-active>.item {
  border-left-color: var(--ds-color-accent-border-subtle);
}

.VPSidebarItem.level-2.is-active>.item .link>.text {
  color: var(--ds-color-accent-text-subtle);
  font-weight: var(--ds-font-weight-medium);
}


/* ==========================================================================
 * F. SEARCH — rounded, DS-styled (matches HeaderSearch)
 * ========================================================================== */

.VPNavBarSearch .DocSearch-Button,
.VPNavBarSearchButton {
  border-radius: var(--ds-border-radius-lg);
  border: 1px solid var(--ds-color-neutral-border-default);
  background: linear-gradient(135deg,
      var(--ds-color-neutral-surface-tinted) 0%,
      var(--ds-color-neutral-surface-default) 100%);
  font-size: var(--ds-font-size-sm);
  height: 40px;
  transition: border-color var(--vp-transition-fast),
    box-shadow var(--vp-transition-fast),
    transform var(--vp-transition-fast);
  box-shadow: var(--vp-shadow-sm);
}

.VPNavBarSearch .DocSearch-Button:hover,
.VPNavBarSearchButton:hover {
  border-color: var(--ds-color-accent-border-default);
  box-shadow: var(--vp-shadow-md);
  transform: translateY(-1px);
}

.VPNavBarSearch .DocSearch-Button:focus,
.VPNavBarSearchButton:focus {
  border-color: var(--ds-color-accent-base-default);
  box-shadow: 0 0 0 3px var(--ds-color-accent-surface-hover);
  outline: none;
}

.VPLocalSearchBox .shell {
  max-width: 600px;
  border-radius: var(--ds-border-radius-xl);
  box-shadow: var(--vp-shadow-xl);
  border: 1px solid var(--ds-color-neutral-border-default);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background-color: rgba(var(--ds-color-neutral-surface-default-rgb, 255, 255, 255), 0.95);
  animation: fadeIn 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.VPLocalSearchBox .result {
  transition: background-color var(--vp-transition-fast),
    transform var(--vp-transition-fast),
    padding-left var(--vp-transition-fast);
}

.VPLocalSearchBox .result:hover {
  transform: translateX(4px);
  padding-left: 12px;
}

.VPLocalSearchBox .result.selected {
  background: linear-gradient(90deg,
      var(--ds-color-accent-surface-hover) 0%,
      var(--ds-color-accent-surface-default) 100%);
  transform: translateX(4px);
  padding-left: 12px;
}

.VPNavBarSearch .DocSearch-Button-Keys kbd,
.VPNavBarSearchButton .vp-nbd-shortcut {
  font-size: var(--ds-font-size-xs);
  background-color: var(--ds-color-neutral-background-tinted);
  border: 1px solid var(--ds-color-neutral-border-default);
  border-radius: var(--ds-border-radius-sm);
}


/* ==========================================================================
 * G. CODE BLOCKS
 * ========================================================================== */

:root {
  --vp-code-block-bg: var(--ds-color-neutral-background-tinted);
  --vp-code-tab-active-bar-color: var(--ds-color-accent-base-default);
  --vp-code-copy-code-border-color: var(--ds-color-neutral-border-subtle);
  --vp-code-copy-code-bg: var(--ds-color-neutral-surface-default);
  --vp-code-copy-code-hover-bg: var(--ds-color-neutral-surface-hover);
  --vp-code-copy-code-hover-border-color: var(--ds-color-neutral-border-default);
}

/* Inline code */
:not(pre)>code {
  font-family: var(--vp-font-family-mono);
  font-size: var(--ds-font-size-sm);
  background: linear-gradient(135deg,
      var(--ds-color-neutral-background-tinted) 0%,
      var(--ds-color-neutral-surface-tinted) 100%);
  border-radius: var(--ds-border-radius-md);
  padding: 2px 6px;
  border: 1px solid var(--ds-color-neutral-border-subtle);
  transition: background-color var(--vp-transition-fast),
    border-color var(--vp-transition-fast),
    color var(--vp-transition-fast);
  font-weight: 500;
}

.vp-doc a code {
  color: var(--ds-color-accent-text-subtle);
  border-color: var(--ds-color-accent-border-subtle);
}

.vp-doc a:hover code {
  background: linear-gradient(135deg,
      var(--ds-color-accent-surface-hover) 0%,
      var(--ds-color-accent-surface-default) 100%);
  color: var(--ds-color-accent-text-default);
  border-color: var(--ds-color-accent-border-default);
}

/* Code block text */
.vp-doc div[class*='language-'] {
  border-radius: var(--ds-border-radius-lg);
  overflow: hidden;
  box-shadow: var(--vp-shadow-md);
  transition: box-shadow var(--vp-transition-base);
}

.vp-doc div[class*='language-']:hover {
  box-shadow: var(--vp-shadow-lg);
}

.vp-doc div[class*='language-'] code {
  font-size: var(--ds-font-size-sm);
  /* 14px */
  line-height: var(--ds-line-height-md);
}


/* ==========================================================================
 * H. CUSTOM CONTAINERS — :::tip, :::warning, :::danger, :::info
 * ========================================================================== */

.custom-block {
  border-radius: var(--ds-border-radius-lg);
  padding: var(--ds-spacing-4) var(--ds-spacing-5);
  font-size: var(--ds-font-size-sm);
}

.custom-block .custom-block-title {
  font-size: var(--ds-font-size-sm);
  font-weight: var(--ds-font-weight-semibold);
}

.custom-block.tip {
  border-color: var(--ds-color-success-border-default);
  background-color: var(--ds-color-success-surface-tinted);
}

.custom-block.tip .custom-block-title {
  color: var(--ds-color-success-text-default);
}

.custom-block.warning {
  border-color: var(--ds-color-warning-border-default);
  background-color: var(--ds-color-warning-surface-tinted);
}

.custom-block.warning .custom-block-title {
  color: var(--ds-color-warning-text-default);
}

.custom-block.danger {
  border-color: var(--ds-color-danger-border-default);
  background-color: var(--ds-color-danger-surface-tinted);
}

.custom-block.danger .custom-block-title {
  color: var(--ds-color-danger-text-default);
}

.custom-block.info {
  border-color: var(--ds-color-info-border-default);
  background-color: var(--ds-color-info-surface-tinted);
}

.custom-block.info .custom-block-title {
  color: var(--ds-color-info-text-default);
}

.custom-block.details {
  border-color: var(--ds-color-neutral-border-default);
  background-color: var(--ds-color-neutral-surface-tinted);
}


/* ==========================================================================
 * I. MISCELLANEOUS
 * ========================================================================== */

/* Hero action buttons (kept for inner-page reuse) */
.VPButton.medium {
  font-size: var(--ds-font-size-sm);
  font-weight: var(--ds-font-weight-semibold);
  border-radius: var(--ds-border-radius-lg);
  padding: var(--ds-spacing-3) var(--ds-spacing-6);
  min-height: 40px;
}

/* Footer */
.VPFooter {
  border-top: 1px solid var(--ds-color-neutral-border-subtle);
  background: linear-gradient(180deg,
      var(--ds-color-neutral-surface-default) 0%,
      var(--ds-color-neutral-background-tinted) 100%);
  font-size: var(--ds-body-sm-font-size);
  /* 16px */
  padding: var(--ds-spacing-8) var(--ds-spacing-6);
  margin-top: var(--ds-spacing-12);
  position: relative;
}

.VPFooter::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg,
      transparent,
      var(--ds-color-accent-border-subtle),
      transparent);
}

/* Outline sidebar (right) */
.VPDocAsideOutline {
  border: 1px solid var(--ds-color-neutral-border-subtle);
  border-radius: var(--ds-border-radius-lg);
  padding: var(--ds-spacing-4);
}

.VPDocAsideOutline .outline-title {
  font-size: var(--ds-font-size-sm);
  font-weight: var(--ds-font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--ds-letter-spacing-wide);
}

.VPDocAsideOutline .outline-link {
  font-size: var(--ds-font-size-sm);
  color: var(--ds-color-neutral-text-subtle);
  transition: color 0.15s ease;
}

.VPDocAsideOutline .outline-link:hover,
.VPDocAsideOutline .outline-link.active {
  color: var(--ds-color-accent-text-subtle);
}

/* Badge */
.VPBadge {
  border-radius: var(--ds-border-radius-md);
  font-size: var(--ds-font-size-xs);
  font-weight: var(--ds-font-weight-medium);
}

/* Dark mode color-scheme */
html.dark {
  color-scheme: dark;
}

/* Mobile menu */
.VPNavBarHamburger {
  width: 44px;
  height: 44px;
  transition: transform var(--vp-transition-fast);
}

.VPNavBarHamburger:hover {
  transform: scale(1.05);
}

/* ==========================================================================
 * J. ANIMATIONS & MICRO-INTERACTIONS
 * ========================================================================== */

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Staggered animation for list items */
.vp-doc ul li,
.vp-doc ol li {
  animation: fadeInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1) backwards;
}

.vp-doc ul li:nth-child(1) {
  animation-delay: 0.05s;
}

.vp-doc ul li:nth-child(2) {
  animation-delay: 0.1s;
}

.vp-doc ul li:nth-child(3) {
  animation-delay: 0.15s;
}

.vp-doc ul li:nth-child(4) {
  animation-delay: 0.2s;
}

.vp-doc ul li:nth-child(5) {
  animation-delay: 0.25s;
}

.vp-doc ul li:nth-child(n+6) {
  animation-delay: 0.3s;
}

/* Smooth scroll behavior */
html {
  scroll-behavior: smooth;
}

/* Enhanced focus states for accessibility */
.vp-doc a:focus-visible,
.VPNavBarMenuLink:focus-visible,
.VPSidebarItem .item:focus-visible {
  outline: 2px solid var(--ds-color-accent-base-default);
  outline-offset: 2px;
  border-radius: var(--ds-border-radius-sm);
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ==========================================================================
 * K. PAGE TRANSITIONS & LOADING STATES
 * ========================================================================== */

/* Smooth page content fade-in */
.VPDoc .content {
  animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Staggered content reveal */
.vp-doc>* {
  animation: fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) backwards;
}

.vp-doc>h1 {
  animation-delay: 0s;
}

.vp-doc>h2 {
  animation-delay: 0.1s;
}

.vp-doc>h3 {
  animation-delay: 0.15s;
}

.vp-doc>p {
  animation-delay: 0.2s;
}

.vp-doc>ul,
.vp-doc>ol {
  animation-delay: 0.25s;
}

.vp-doc>pre {
  animation-delay: 0.3s;
}

.vp-doc>table {
  animation-delay: 0.35s;
}

/* Loading skeleton for async content */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }

  100% {
    background-position: 1000px 0;
  }
}

/* Scroll progress indicator (optional enhancement) */
.VPDoc {
  position: relative;
}

.VPDoc::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 0%;
  height: 3px;
  background: linear-gradient(90deg,
      var(--ds-color-accent-base-default),
      var(--ds-color-info-base-default));
  z-index: 1000;
  transition: width 0.1s ease;
  pointer-events: none;
}

/* Enhanced selection styling */
::selection {
  background-color: var(--ds-color-accent-surface-hover);
  color: var(--ds-color-accent-text-default);
}

::-moz-selection {
  background-color: var(--ds-color-accent-surface-hover);
  color: var(--ds-color-accent-text-default);
}