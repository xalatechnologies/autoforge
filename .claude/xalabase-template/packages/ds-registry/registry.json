{
  "version": "1.0.0",
  "lastUpdated": "2025-01-12",
  "components": {
    "alert": {
      "id": "alert",
      "name": "Alert",
      "category": "feedback",
      "description": "Displays important messages with different severity levels (info, success, warning, error).",
      "importPath": "Alert",
      "a11yFeatures": ["ARIA live regions", "Role attribution", "Keyboard accessible"],
      "useCases": ["Form validation messages", "System notifications", "Status updates"],
      "related": ["ErrorSummary"],
      "props": {
        "variant": {
          "type": "enum",
          "values": ["info", "success", "warning", "error"],
          "default": "info",
          "description": "The visual style variant of the alert"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The content to display inside the alert"
        }
      }
    },
    "avatar": {
      "id": "avatar",
      "name": "Avatar",
      "category": "media",
      "description": "Displays user profile images or initials with customizable sizes.",
      "importPath": "Avatar",
      "a11yFeatures": ["Alt text support", "Semantic markup"],
      "useCases": ["User profiles", "Comments", "Team member lists"],
      "props": {
        "size": {
          "type": "enum",
          "values": ["xs", "sm", "md", "lg", "xl"],
          "default": "md",
          "description": "The size of the avatar"
        },
        "src": {
          "type": "string",
          "description": "The image source URL"
        },
        "alt": {
          "type": "string",
          "description": "Alt text for the image"
        },
        "fallback": {
          "type": "ReactNode",
          "description": "Content to show when image fails to load"
        }
      }
    },
    "badge": {
      "id": "badge",
      "name": "Badge",
      "category": "utility",
      "description": "Small status indicators for labeling and categorization.",
      "importPath": "Badge",
      "a11yFeatures": ["Color contrast compliant", "Screen reader friendly"],
      "useCases": ["Status indicators", "Tags", "Notifications"],
      "props": {
        "variant": {
          "type": "enum",
          "values": ["neutral", "success", "warning", "danger"],
          "default": "neutral",
          "description": "The visual style variant"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The content to display"
        }
      }
    },
    "button": {
      "id": "button",
      "name": "Button",
      "category": "input",
      "description": "Primary action element with multiple variants and sizes.",
      "importPath": "Button",
      "supportsAsChild": true,
      "a11yFeatures": ["Keyboard accessible", "Focus visible", "Disabled state"],
      "useCases": ["Form submission", "Dialog triggers", "Navigation actions"],
      "related": ["Link", "Switch", "ToggleGroup"],
      "props": {
        "variant": {
          "type": "enum",
          "values": ["primary", "secondary", "danger", "tertiary"],
          "default": "primary",
          "description": "The visual style variant"
        },
        "size": {
          "type": "enum",
          "values": ["sm", "md", "lg"],
          "default": "md",
          "description": "The button size"
        },
        "asChild": {
          "type": "boolean",
          "default": false,
          "description": "Merge props with child element"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The button content"
        }
      }
    },
    "card": {
      "id": "card",
      "name": "Card",
      "category": "layout",
      "description": "Container component for grouping related content.",
      "importPath": "Card",
      "a11yFeatures": ["Semantic sections", "Heading levels"],
      "useCases": ["Content grouping", "Dashboard widgets", "Product cards"],
      "props": {
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The card content"
        }
      },
      "subComponents": {
        "Header": "Card header section",
        "Title": "Card title",
        "Content": "Main card content",
        "Footer": "Card footer section"
      }
    },
    "checkbox": {
      "id": "checkbox",
      "name": "Checkbox",
      "category": "input",
      "description": "Binary selection input for multiple choices.",
      "importPath": "Checkbox",
      "a11yFeatures": ["ARIA checked state", "Keyboard navigation", "Indeterminate state"],
      "useCases": ["Multi-select options", "Terms acceptance", "Feature toggles"],
      "related": ["Radio", "Switch", "Field"],
      "props": {
        "checked": {
          "type": "boolean | 'indeterminate'",
          "description": "Whether the checkbox is checked"
        },
        "onCheckedChange": {
          "type": "(checked: boolean | 'indeterminate') => void",
          "description": "Callback when checked state changes"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The checkbox label"
        }
      }
    },
    "dialog": {
      "id": "dialog",
      "name": "Dialog",
      "category": "utility",
      "description": "Modal dialog for focused interactions and confirmations.",
      "importPath": "Dialog",
      "a11yFeatures": ["Focus trap", "ARIA attributes", "Escape key", "Backdrop click"],
      "useCases": ["Confirmations", "Form dialogs", "Alert dialogs"],
      "props": {
        "open": {
          "type": "boolean",
          "required": true,
          "description": "Whether the dialog is open"
        },
        "onOpenChange": {
          "type": "(open: boolean) => void",
          "required": true,
          "description": "Callback when open state changes"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The dialog content"
        }
      },
      "subComponents": {
        "Content": "Dialog content container",
        "Header": "Dialog header section",
        "Title": "Dialog title",
        "Body": "Main dialog content",
        "Footer": "Dialog footer section"
      }
    },
    "field": {
      "id": "field",
      "name": "Field",
      "category": "input",
      "description": "Form field wrapper with label, description, and error states.",
      "importPath": "Field",
      "a11yFeatures": ["Label associations", "Error descriptions", "Required indicators"],
      "useCases": ["Form layout", "Input grouping", "Validation states"],
      "related": ["Input", "Textarea", "Select"],
      "subComponents": {
        "Label": "Field label",
        "Input": "Input element",
        "Description": "Helper text",
        "Error": "Error message"
      }
    },
    "input": {
      "id": "input",
      "name": "Input",
      "category": "input",
      "description": "Text input field with validation and formatting options.",
      "importPath": "Input",
      "a11yFeatures": ["Input types", "Validation attributes", "Error states"],
      "useCases": ["Text entry", "Number input", "Date/time input"],
      "related": ["Field", "Textfield", "Textarea"],
      "props": {
        "type": {
          "type": "string",
          "default": "text",
          "description": "The input type"
        },
        "value": {
          "type": "string",
          "description": "The input value"
        },
        "onChange": {
          "type": "(e: ChangeEvent<HTMLInputElement>) => void",
          "description": "Change event handler"
        }
      }
    },
    "link": {
      "id": "link",
      "name": "Link",
      "category": "navigation",
      "description": "Styled navigation links with consistent appearance.",
      "importPath": "Link",
      "supportsAsChild": true,
      "a11yFeatures": ["Focus visible", "Screen reader announcements"],
      "useCases": ["Internal navigation", "External links", "Action links"],
      "props": {
        "href": {
          "type": "string",
          "description": "The link URL"
        },
        "asChild": {
          "type": "boolean",
          "default": false,
          "description": "Merge props with child element"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The link content"
        }
      }
    },
    "radio": {
      "id": "radio",
      "name": "Radio",
      "category": "input",
      "description": "Single selection input from a group of options.",
      "importPath": "Radio",
      "a11yFeatures": ["ARIA checked state", "Group associations", "Keyboard navigation"],
      "useCases": ["Single choice options", "Preference selection", "Payment methods"],
      "related": ["Checkbox", "Switch", "Fieldset"],
      "props": {
        "value": {
          "type": "string",
          "required": true,
          "description": "The radio value"
        },
        "checked": {
          "type": "boolean",
          "description": "Whether the radio is checked"
        },
        "onCheckedChange": {
          "type": "(checked: boolean) => void",
          "description": "Callback when checked state changes"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The radio label"
        }
      }
    },
    "select": {
      "id": "select",
      "name": "Select",
      "category": "input",
      "description": "Dropdown selection from a list of options.",
      "importPath": "Select",
      "a11yFeatures": ["ARIA attributes", "Keyboard navigation", "Multi-select support"],
      "useCases": ["Option selection", "Filter selection", "Country picker"],
      "related": ["Dropdown", "Field"],
      "props": {
        "value": {
          "type": "string",
          "description": "The selected value"
        },
        "onChange": {
          "type": "(e: ChangeEvent<HTMLSelectElement>) => void",
          "description": "Change event handler"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "Option elements"
        }
      }
    },
    "spinner": {
      "id": "spinner",
      "name": "Spinner",
      "category": "utility",
      "description": "Animated loading indicators for showing progress.",
      "importPath": "Spinner",
      "a11yFeatures": ["ARIA live region", "Descriptive text"],
      "useCases": ["Button loading", "Data fetching", "Form submission"],
      "props": {
        "size": {
          "type": "enum",
          "values": ["sm", "md", "lg"],
          "default": "md",
          "description": "The spinner size"
        }
      }
    },
    "switch": {
      "id": "switch",
      "name": "Switch",
      "category": "input",
      "description": "Toggle switch for on/off binary states.",
      "importPath": "Switch",
      "a11yFeatures": ["ARIA checked state", "Keyboard toggle", "State descriptions"],
      "useCases": ["Feature toggles", "Settings switches", "Preferences"],
      "related": ["Checkbox", "Button", "Field"],
      "props": {
        "checked": {
          "type": "boolean",
          "description": "Whether the switch is on"
        },
        "onCheckedChange": {
          "type": "(checked: boolean) => void",
          "description": "Callback when checked state changes"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The switch label"
        }
      }
    },
    "tabs": {
      "id": "tabs",
      "name": "Tabs",
      "category": "navigation",
      "description": "Tabbed interface for organizing content into sections.",
      "importPath": "Tabs",
      "a11yFeatures": ["ARIA tab attributes", "Keyboard navigation", "Focus management"],
      "useCases": ["Settings panels", "Multi-page forms", "Content organization"],
      "props": {
        "value": {
          "type": "string",
          "description": "The active tab value"
        },
        "onValueChange": {
          "type": "(value: string) => void",
          "description": "Callback when tab changes"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "Tab list and content"
        }
      },
      "subComponents": {
        "List": "Tab list container",
        "Trigger": "Tab trigger button",
        "Content": "Tab content panel"
      }
    },
    "textarea": {
      "id": "textarea",
      "name": "Textarea",
      "category": "input",
      "description": "Multi-line text input for longer content.",
      "importPath": "Textarea",
      "a11yFeatures": ["Resize control", "Character count", "Validation"],
      "useCases": ["Comments", "Descriptions", "Long text input"],
      "related": ["Field", "Input"],
      "props": {
        "value": {
          "type": "string",
          "description": "The textarea value"
        },
        "onChange": {
          "type": "(e: ChangeEvent<HTMLTextAreaElement>) => void",
          "description": "Change event handler"
        },
        "rows": {
          "type": "number",
          "default": 4,
          "description": "Number of visible rows"
        }
      }
    },
    "tooltip": {
      "id": "tooltip",
      "name": "Tooltip",
      "category": "utility",
      "description": "Contextual help text that appears on hover or focus.",
      "importPath": "Tooltip",
      "a11yFeatures": ["Keyboard accessible", "Delay timers", "Focus trap"],
      "useCases": ["Field descriptions", "Icon explanations", "Context help"],
      "props": {
        "content": {
          "type": "ReactNode",
          "required": true,
          "description": "The tooltip content"
        },
        "children": {
          "type": "ReactNode",
          "required": true,
          "description": "The trigger element"
        }
      }
    }
  },
  "patterns": {
    "formField": {
      "id": "form-field",
      "name": "Form Field",
      "description": "Standard form input with label, description, and error handling.",
      "components": ["Field", "Input", "Textarea", "Select"],
      "whenToUse": [
        "Any form requiring user input",
        "When you need validation feedback",
        "For consistent form layout"
      ],
      "a11y": [
        "Always associate labels with inputs",
        "Provide error messages in the field description",
        "Use appropriate input types for better mobile experience"
      ],
      "related": ["formValidation", "formLayout"]
    },
    "formValidation": {
      "id": "form-validation",
      "name": "Form Validation",
      "description": "Comprehensive form validation with error summary and field-level errors.",
      "components": ["ErrorSummary", "Field", "Input", "Button"],
      "whenToUse": [
        "Multi-field forms",
        "When validation errors need to be visible at form level",
        "For complex validation requirements"
      ],
      "a11y": [
        "ErrorSummary must link to invalid fields",
        "Field errors should be announced",
        "Maintain focus on first invalid field"
      ],
      "related": ["formField", "formLayout"]
    },
    "themeSwitching": {
      "id": "theme-switching",
      "name": "Theme Switching",
      "description": "Runtime theme switching with provider and programmatic control.",
      "components": ["DesignsystemetProvider"],
      "whenToUse": [
        "Applications with multiple themes",
        "User preference for dark/light mode",
        "Brand switching in multi-tenant apps"
      ],
      "a11y": [
        "Respect system color scheme preferences",
        "Announce theme changes to screen readers",
        "Maintain contrast in all themes"
      ],
      "related": ["providerUsage"]
    },
    "asChildPattern": {
      "id": "aschild-pattern",
      "name": "asChild Pattern",
      "description": "Using asChild to render components as different elements.",
      "components": ["Button", "Link"],
      "whenToUse": [
        "Render button as link for navigation",
        "Integrate with routing libraries",
        "Semantic HTML requirements"
      ],
      "a11y": [
        "Maintain button behaviors when rendered as link",
        "Preserve event handlers and accessibility props",
        "Only one direct child allowed"
      ],
      "related": ["button", "link"]
    }
  },
  "examples": {
    "buttonBasic": {
      "id": "button-basic",
      "title": "Basic Button",
      "description": "Primary action button with default styling.",
      "component": "button",
      "code": "import { Button } from '@xala/ds';\n\nexport function Example() {\n  return <Button>Save changes</Button>;\n}",
      "tags": ["basic", "primary"]
    },
    "buttonAsLink": {
      "id": "button-aschild-link",
      "title": "Button as Link",
      "description": "Use asChild to render a Button as an <a> while keeping DS behavior.",
      "component": "button",
      "code": "import { Button } from '@xala/ds';\n\nexport function Example() {\n  return (\n    <Button asChild>\n      <a href=\"/dashboard\">Go to dashboard</a>\n    </Button>\n  );\n}",
      "tags": ["asChild", "navigation"]
    },
    "formFieldExample": {
      "id": "form-field-example",
      "title": "Form Field with Validation",
      "description": "Input field with label, description, and error handling.",
      "component": "field",
      "code": "import { Field, Input } from '@xala/ds';\n\nexport function Example() {\n  return (\n    <Field>\n      <Field.Label>Email address</Field.Label>\n      <Field.Input\n        type=\"email\"\n        placeholder=\"name@example.com\"\n        required\n      />\n      <Field.Description>\n        We'll never share your email with anyone else.\n      </Field.Description>\n      <Field.Error>This field is required</Field.Error>\n    </Field>\n  );\n}",
      "tags": ["form", "validation", "field"]
    },
    "themeSwitcherExample": {
      "id": "theme-switcher-example",
      "title": "Theme Switcher",
      "description": "Complete theme switching implementation with controls.",
      "component": "themeSwitching",
      "code": "import { DesignsystemetProvider, Select, Label } from '@xala/ds';\nimport { THEMES } from '@xala/ds-themes';\n\nexport function ThemeSwitcher() {\n  const [theme, setTheme] = useState('digdir');\n  \n  return (\n    <DesignsystemetProvider theme={theme}>\n      <div style={{ padding: 24 }}>\n        <div style={{ marginBottom: 16 }}>\n          <Label htmlFor=\"theme-select\">Select Theme</Label>\n          <Select\n            id=\"theme-select\"\n            value={theme}\n            onChange={(e) => setTheme(e.target.value)}\n          >\n            {Object.keys(THEMES).map(key => (\n              <option key={key} value={key}>{key}</option>\n            ))}\n          </Select>\n        </div>\n      </div>\n    </DesignsystemetProvider>\n  );\n}",
      "tags": ["theme", "provider", "switching"]
    }
  },
  "guidelines": {
    "imports": {
      "id": "imports",
      "title": "Import Rules",
      "description": "Proper import practices for Designsystemet components.",
      "category": "architecture",
      "level": "required",
      "do": [
        "Import all components from @xala/ds",
        "Import styles once in the application entry point",
        "Use named imports for better tree shaking"
      ],
      "dont": [
        "Import directly from @digdir/* packages",
        "Import styles in multiple places",
        "Use default imports for components"
      ]
    },
    "styling": {
      "id": "styling",
      "title": "Styling and Customization",
      "description": "How to style components without breaking the design system.",
      "category": "styling",
      "level": "required",
      "do": [
        "Use component variants for different styles",
        "Apply design tokens for consistency",
        "Create wrapper components in @xala/ds if needed",
        "Use CSS variables for theme customization"
      ],
      "dont": [
        "Override component styles with !important",
        "Hardcode colors and spacing",
        "Create custom UI components in applications",
        "Modify component internals"
      ]
    },
    "accessibility": {
      "id": "accessibility",
      "title": "Accessibility Requirements",
      "description": "Ensuring components are accessible to all users.",
      "category": "accessibility",
      "level": "required",
      "do": [
        "Test with keyboard navigation",
        "Ensure proper color contrast",
        "Provide alt text for images",
        "Use semantic HTML elements",
        "Announce state changes to screen readers"
      ],
      "dont": [
        "Rely on color alone for meaning",
        "Remove focus indicators",
        "Use divs for interactive elements",
        "Skip ARIA attributes"
      ]
    }
  },
  "rules": {
    "imports": [
      "Apps must import UI only from '@xala/ds'.",
      "Apps must not import '@digdir/*' packages directly.",
      "Apps must import '@xala/ds/styles' exactly once at startup.",
      "Use named imports for better tree shaking."
    ],
    "styling": [
      "No custom UI components in apps. Compose Designsystemet components.",
      "Avoid custom CSS. If needed, create a DS-approved wrapper in @xala/ds, not in apps.",
      "Use component variants and design tokens for styling.",
      "Never override component styles with !important."
    ],
    "accessibility": [
      "All interactive elements must be keyboard accessible.",
      "Provide proper ARIA attributes and semantic HTML.",
      "Ensure color contrast meets WCAG 2.2 AA standards.",
      "Test with screen readers regularly."
    ],
    "performance": [
      "Lazy load components when possible.",
      "Keep bundle size under control.",
      "Use React.memo for expensive components.",
      "Optimize images and assets."
    ],
    "architecture": [
      "Follow the facade pattern - all UI through @xala/ds.",
      "Keep business logic separate from UI components.",
      "Use TypeScript strictly - no any types.",
      "Write tests for custom components and patterns."
    ]
  },
  "metadata": {
    "totalComponents": 18,
    "totalPatterns": 4,
    "totalExamples": 4,
    "totalGuidelines": 3,
    "categories": {
      "components": ["feedback", "input", "layout", "media", "navigation", "utility"],
      "patterns": ["forms", "navigation", "themes", "utilities"],
      "guidelines": ["architecture", "styling", "accessibility"]
    },
    "themes": ["digdir", "altinn", "uutilsynet", "portal"],
    "dataAttributes": {
      "colorScheme": ["auto", "light", "dark"],
      "size": ["sm", "md", "lg"],
      "typography": ["primary", "secondary"]
    }
  }
}
